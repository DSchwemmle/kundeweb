{"ast":null,"code":"/* eslint-disable eslint-comments/disable-enable-pair */\n/* eslint-disable max-classes-per-file */\n/* eslint-disable sort-imports */\nimport { ROLLE_ADMIN } from '../../../auth/auth.service'; // eslint-disable-line @typescript-eslint/consistent-type-imports\n// eslint-disable-next-line @typescript-eslint/consistent-type-imports\nimport { RemoveError } from '../../shared';\nimport { easeIn, easeOut } from '../../../shared';\nimport { first, tap } from 'rxjs/operators';\nimport { NgLocalization } from '@angular/common';\nimport { Subject } from 'rxjs';\nimport log from 'loglevel';\nimport * as i0 from \"@angular/core\";\nimport * as i1 from \"../../shared\";\nimport * as i2 from \"@angular/router\";\nimport * as i3 from \"../../../auth/auth.service\";\nfunction GefundeneKundenComponent_div_0_th_7_Template(rf, ctx) {\n  if (rf & 1) {\n    i0.ɵɵelementStart(0, \"th\", 13);\n    i0.ɵɵtext(1, \"Nachname\");\n    i0.ɵɵelementEnd();\n  }\n}\nfunction GefundeneKundenComponent_div_0_td_8_Template(rf, ctx) {\n  if (rf & 1) {\n    i0.ɵɵelementStart(0, \"td\", 14);\n    i0.ɵɵtext(1);\n    i0.ɵɵelementEnd();\n  }\n  if (rf & 2) {\n    const element_r13 = ctx.$implicit;\n    i0.ɵɵadvance(1);\n    i0.ɵɵtextInterpolate(element_r13.nachname);\n  }\n}\nfunction GefundeneKundenComponent_div_0_th_10_Template(rf, ctx) {\n  if (rf & 1) {\n    i0.ɵɵelementStart(0, \"th\", 13);\n    i0.ɵɵtext(1, \"Familienstand\");\n    i0.ɵɵelementEnd();\n  }\n}\nfunction GefundeneKundenComponent_div_0_td_11_Template(rf, ctx) {\n  if (rf & 1) {\n    i0.ɵɵelementStart(0, \"td\", 14);\n    i0.ɵɵtext(1);\n    i0.ɵɵelementEnd();\n  }\n  if (rf & 2) {\n    const element_r14 = ctx.$implicit;\n    i0.ɵɵadvance(1);\n    i0.ɵɵtextInterpolate1(\" \", element_r14.familienstand, \" \");\n  }\n}\nfunction GefundeneKundenComponent_div_0_th_13_Template(rf, ctx) {\n  if (rf & 1) {\n    i0.ɵɵelementStart(0, \"th\", 13);\n    i0.ɵɵtext(1, \"Geschlecht\");\n    i0.ɵɵelementEnd();\n  }\n}\nfunction GefundeneKundenComponent_div_0_td_14_Template(rf, ctx) {\n  if (rf & 1) {\n    i0.ɵɵelementStart(0, \"td\", 14);\n    i0.ɵɵtext(1);\n    i0.ɵɵelementEnd();\n  }\n  if (rf & 2) {\n    const element_r15 = ctx.$implicit;\n    i0.ɵɵadvance(1);\n    i0.ɵɵtextInterpolate(element_r15.geschlecht);\n  }\n}\nfunction GefundeneKundenComponent_div_0_th_16_Template(rf, ctx) {\n  if (rf & 1) {\n    i0.ɵɵelementStart(0, \"th\", 13);\n    i0.ɵɵtext(1, \"Interessen\");\n    i0.ɵɵelementEnd();\n  }\n}\nfunction GefundeneKundenComponent_div_0_td_17_Template(rf, ctx) {\n  if (rf & 1) {\n    i0.ɵɵelementStart(0, \"td\", 14);\n    i0.ɵɵtext(1);\n    i0.ɵɵelementEnd();\n  }\n  if (rf & 2) {\n    const element_r16 = ctx.$implicit;\n    i0.ɵɵadvance(1);\n    i0.ɵɵtextInterpolate(element_r16.interessen);\n  }\n}\nfunction GefundeneKundenComponent_div_0_th_19_Template(rf, ctx) {\n  if (rf & 1) {\n    i0.ɵɵelementStart(0, \"th\", 15);\n    i0.ɵɵtext(1, \"\\u00A0\");\n    i0.ɵɵelementEnd();\n  }\n}\nfunction GefundeneKundenComponent_div_0_td_20_Template(rf, ctx) {\n  if (rf & 1) {\n    const _r19 = i0.ɵɵgetCurrentView();\n    i0.ɵɵelementStart(0, \"td\", 14)(1, \"button\", 16);\n    i0.ɵɵlistener(\"click\", function GefundeneKundenComponent_div_0_td_20_Template_button_click_1_listener() {\n      const restoredCtx = i0.ɵɵrestoreView(_r19);\n      const element_r17 = restoredCtx.$implicit;\n      const ctx_r18 = i0.ɵɵnextContext(2);\n      return i0.ɵɵresetView(ctx_r18.onClick(element_r17));\n    });\n    i0.ɵɵelementStart(2, \"mat-icon\");\n    i0.ɵɵtext(3, \"create\");\n    i0.ɵɵelementEnd()()();\n  }\n}\nfunction GefundeneKundenComponent_div_0_tr_21_Template(rf, ctx) {\n  if (rf & 1) {\n    i0.ɵɵelement(0, \"tr\", 17);\n  }\n}\nfunction GefundeneKundenComponent_div_0_tr_22_Template(rf, ctx) {\n  if (rf & 1) {\n    i0.ɵɵelement(0, \"tr\", 18);\n  }\n}\nfunction GefundeneKundenComponent_div_0_Template(rf, ctx) {\n  if (rf & 1) {\n    i0.ɵɵelementStart(0, \"div\", 1)(1, \"mat-card\")(2, \"mat-card-title\");\n    i0.ɵɵtext(3, \"Gefundene Kunden\");\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementStart(4, \"mat-card-content\")(5, \"table\", 2);\n    i0.ɵɵelementContainerStart(6, 3);\n    i0.ɵɵtemplate(7, GefundeneKundenComponent_div_0_th_7_Template, 2, 0, \"th\", 4);\n    i0.ɵɵtemplate(8, GefundeneKundenComponent_div_0_td_8_Template, 2, 1, \"td\", 5);\n    i0.ɵɵelementContainerEnd();\n    i0.ɵɵelementContainerStart(9, 6);\n    i0.ɵɵtemplate(10, GefundeneKundenComponent_div_0_th_10_Template, 2, 0, \"th\", 4);\n    i0.ɵɵtemplate(11, GefundeneKundenComponent_div_0_td_11_Template, 2, 1, \"td\", 5);\n    i0.ɵɵelementContainerEnd();\n    i0.ɵɵelementContainerStart(12, 7);\n    i0.ɵɵtemplate(13, GefundeneKundenComponent_div_0_th_13_Template, 2, 0, \"th\", 4);\n    i0.ɵɵtemplate(14, GefundeneKundenComponent_div_0_td_14_Template, 2, 1, \"td\", 5);\n    i0.ɵɵelementContainerEnd();\n    i0.ɵɵelementContainerStart(15, 8);\n    i0.ɵɵtemplate(16, GefundeneKundenComponent_div_0_th_16_Template, 2, 0, \"th\", 4);\n    i0.ɵɵtemplate(17, GefundeneKundenComponent_div_0_td_17_Template, 2, 1, \"td\", 5);\n    i0.ɵɵelementContainerEnd();\n    i0.ɵɵelementContainerStart(18, 9);\n    i0.ɵɵtemplate(19, GefundeneKundenComponent_div_0_th_19_Template, 2, 0, \"th\", 10);\n    i0.ɵɵtemplate(20, GefundeneKundenComponent_div_0_td_20_Template, 4, 0, \"td\", 5);\n    i0.ɵɵelementContainerEnd();\n    i0.ɵɵtemplate(21, GefundeneKundenComponent_div_0_tr_21_Template, 1, 0, \"tr\", 11);\n    i0.ɵɵtemplate(22, GefundeneKundenComponent_div_0_tr_22_Template, 1, 0, \"tr\", 12);\n    i0.ɵɵelementEnd()()()();\n  }\n  if (rf & 2) {\n    const ctx_r0 = i0.ɵɵnextContext();\n    i0.ɵɵadvance(5);\n    i0.ɵɵproperty(\"dataSource\", ctx_r0.kunden);\n    i0.ɵɵadvance(16);\n    i0.ɵɵproperty(\"matHeaderRowDef\", ctx_r0.displayedColumns);\n    i0.ɵɵadvance(1);\n    i0.ɵɵproperty(\"matRowDefColumns\", ctx_r0.displayedColumns);\n  }\n}\nexport class GefundeneKundenComponent {\n  // Parameter Properties (Empfehlung: Konstruktor nur fuer DI)\n  // eslint-disable-next-line max-params\n  constructor(service, router, authService, writeService) {\n    this.service = service;\n    this.router = router;\n    this.authService = authService;\n    this.writeService = writeService;\n    // Im ganzen Beispiel: lokale Speicherung des Zustands und nicht durch z.B.\n    // eine Flux-Bibliothek wie beispielsweise Redux http://redux.js.org\n    // Property Binding: <hs-gefundene-kunden [buecher]=\"...\">\n    // Decorator fuer ein Attribut. Siehe InputMetadata\n    this.kunden = [];\n    // nachtraegliches Einloggen mit der Rolle \"admin\" beobachten\n    this.isAdmin$ = new Subject();\n    this.displayedColumns = ['nachname', 'familienstand', 'geschlecht', 'interessen', 'update'];\n    log.debug('GefundeneKundenComponent.constructor()');\n  }\n  // Attribute mit @Input() sind undefined im Konstruktor.\n  // Methode zum \"LifeCycle Hook\" OnInit: wird direkt nach dem Konstruktor\n  // aufgerufen.\n  // Weitere Methoden zum Lifecycle: ngAfterViewInit(), ngAfterContentInit()\n  // https://angular.io/docs/ts/latest/guide/cheatsheet.html\n  // Die Ableitung vom Interface OnInit ist nicht notwendig, aber erleichtert\n  // IntelliSense bei der Verwendung von TypeScript.\n  ngOnInit() {\n    log.debug('GefundeneKundenComponent.ngOnInit()');\n    this.isAdmin = this.authService.isAdmin;\n    this.authService.rollen$.pipe(first(), tap(rollen =>\n    // ein neues Observable vom Typ boolean\n    this.isAdmin$.next(rollen.includes(ROLLE_ADMIN))))\n    // das Subject von AuthService abonnieren bzw. beobachten\n    .subscribe();\n  }\n  /**\r\n   * Das ausgew&auml;hlte bzw. angeklickte Kunde in der Detailsseite anzeigen.\r\n   * @param kunde Das ausgew&auml;hlte Kunde\r\n   */\n  onClick(kunde) {\n    log.debug('GefundeneBuecherComponent.onClick: kunde=', kunde);\n    // URL mit der Kunde-ID, um ein Bookmark zu ermoeglichen\n    // Gefundenes Kunde als NavigationExtras im Router puffern\n    return this.router.navigate([`/kunde/update/${kunde.id}`]);\n  }\n  /**\r\n   * Das ausgew&auml;hlte bzw. angeklickte Kunde l&ouml;schen.\r\n   * @param kunde Das ausgew&auml;hlte Kunde\r\n   */\n  onRemove(kunde) {\n    log.debug('GefundeneBuecherComponent.onRemove: kunde=', kunde);\n    return this.writeService.remove(kunde).pipe(first(), tap(result => {\n      if (result instanceof RemoveError) {\n        log.debug('GefundeneBuecherComponent.onRemove: statuscode=', result.statuscode);\n        return;\n      }\n      this.kunden = this.kunden.filter(k => k.id !== kunde.id);\n    })).subscribe();\n  }\n  trackBy(_index, kunde) {\n    return kunde.id;\n  }\n}\nGefundeneKundenComponent.ɵfac = function GefundeneKundenComponent_Factory(t) {\n  return new (t || GefundeneKundenComponent)(i0.ɵɵdirectiveInject(i1.KundeReadService), i0.ɵɵdirectiveInject(i2.Router), i0.ɵɵdirectiveInject(i3.AuthService), i0.ɵɵdirectiveInject(i1.KundeWriteService));\n};\nGefundeneKundenComponent.ɵcmp = /*@__PURE__*/i0.ɵɵdefineComponent({\n  type: GefundeneKundenComponent,\n  selectors: [[\"hs-gefundene-kunden\"]],\n  inputs: {\n    kunden: \"kunden\"\n  },\n  decls: 1,\n  vars: 1,\n  consts: [[\"aria-label\", \"Gefundene Kunden\", 4, \"ngIf\"], [\"aria-label\", \"Gefundene Kunden\"], [\"mat-table\", \"\", 1, \"mat-elevation-z8\", 3, \"dataSource\"], [\"matColumnDef\", \"nachname\"], [\"mat-header-cell\", \"\", 4, \"matHeaderCellDef\"], [\"mat-cell\", \"\", 4, \"matCellDef\"], [\"matColumnDef\", \"familienstand\"], [\"matColumnDef\", \"geschlecht\"], [\"matColumnDef\", \"interessen\"], [\"matColumnDef\", \"update\"], [\"mat-header-cell\", \"\", \"aria-label\", \"update\", 4, \"matHeaderCellDef\"], [\"mat-header-row\", \"\", 4, \"matHeaderRowDef\"], [\"mat-row\", \"\", 4, \"matRowDef\", \"matRowDefColumns\"], [\"mat-header-cell\", \"\"], [\"mat-cell\", \"\"], [\"mat-header-cell\", \"\", \"aria-label\", \"update\"], [\"mat-icon-button\", \"\", 3, \"click\"], [\"mat-header-row\", \"\"], [\"mat-row\", \"\"]],\n  template: function GefundeneKundenComponent_Template(rf, ctx) {\n    if (rf & 1) {\n      i0.ɵɵtemplate(0, GefundeneKundenComponent_div_0_Template, 23, 3, \"div\", 0);\n    }\n    if (rf & 2) {\n      i0.ɵɵproperty(\"ngIf\", ctx.kunden.length);\n    }\n  },\n  styles: [\"table[_ngcontent-%COMP%] {\\n  width: 100%;\\n}\\n/*# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly8uL3NyYy9hcHAva3VuZGUvc3VjaGUta3VuZGUvZ2VmdW5kZW5lLWt1bmRlbi9nZWZ1bmRlbmUta3VuZGVuLmNvbXBvbmVudC5zY3NzIl0sIm5hbWVzIjpbXSwibWFwcGluZ3MiOiJBQUFBO0VBQ0UsV0FBQTtBQUNGIiwic291cmNlc0NvbnRlbnQiOlsidGFibGUge1xuICB3aWR0aDogMTAwJTtcbn1cbiJdLCJzb3VyY2VSb290IjoiIn0= */\"],\n  data: {\n    animation: [easeIn, easeOut]\n  }\n});\nexport class AnzahlLocalization extends NgLocalization {\n  getPluralCategory(count) {\n    return count === 1 ? 'single' : 'multi';\n  }\n}","map":{"version":3,"mappings":"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","names":["ROLLE_ADMIN","RemoveError","easeIn","easeOut","first","tap","NgLocalization","Subject","log","i0","GefundeneKundenComponent","constructor","service","router","authService","writeService","debug","ngOnInit","isAdmin","rollen$","pipe","rollen","isAdmin$","next","includes","subscribe","onClick","kunde","navigate","id","onRemove","remove","result","statuscode","kunden","filter","k","trackBy","_index","selectors","inputs","decls","vars","consts","template","AnzahlLocalization","getPluralCategory","count"],"sourceRoot":"","sources":["C:\\Users\\Dominik\\software-engineering\\kundeweb\\src\\app\\kunde\\suche-kunde\\gefundene-kunden\\gefundene-kunden.component.ts","C:\\Users\\Dominik\\software-engineering\\kundeweb\\src\\app\\kunde\\suche-kunde\\gefundene-kunden\\gefundene-kunden.component.html"],"sourcesContent":["/* eslint-disable eslint-comments/disable-enable-pair */\n/* eslint-disable max-classes-per-file */\n/* eslint-disable sort-imports */\nimport { AuthService, ROLLE_ADMIN } from '../../../auth/auth.service'; // eslint-disable-line @typescript-eslint/consistent-type-imports\n// eslint-disable-next-line @typescript-eslint/consistent-type-imports\nimport {\n    type Kunde,\n    KundeReadService,\n    RemoveError,\n    KundeWriteService,\n} from '../../shared';\nimport { Component, Input, type OnInit } from '@angular/core';\nimport { easeIn, easeOut } from '../../../shared';\nimport { first, tap } from 'rxjs/operators';\nimport { NgLocalization } from '@angular/common';\nimport { Router } from '@angular/router'; // eslint-disable-line @typescript-eslint/consistent-type-imports\nimport { Subject } from 'rxjs';\nimport log from 'loglevel';\n\n@Component({\n    selector: 'hs-gefundene-kunden',\n    templateUrl: './gefundene-kunden.component.html',\n    styleUrls: ['./gefundene-kunden.component.scss'],\n    animations: [easeIn, easeOut],\n})\nexport class GefundeneKundenComponent implements OnInit {\n    // Im ganzen Beispiel: lokale Speicherung des Zustands und nicht durch z.B.\n    // eine Flux-Bibliothek wie beispielsweise Redux http://redux.js.org\n\n    // Property Binding: <hs-gefundene-kunden [buecher]=\"...\">\n    // Decorator fuer ein Attribut. Siehe InputMetadata\n    @Input()\n    kunden: Kunde[] = [];\n\n    isAdmin!: boolean;\n\n    // nachtraegliches Einloggen mit der Rolle \"admin\" beobachten\n    isAdmin$ = new Subject<boolean>();\n\n    displayedColumns: string[] = [\n        'nachname',\n        'familienstand',\n        'geschlecht',\n        'interessen',\n        'update',\n    ];\n\n    // Parameter Properties (Empfehlung: Konstruktor nur fuer DI)\n    // eslint-disable-next-line max-params\n    constructor(\n        private readonly service: KundeReadService,\n        private readonly router: Router,\n        private readonly authService: AuthService,\n        private readonly writeService: KundeWriteService,\n    ) {\n        log.debug('GefundeneKundenComponent.constructor()');\n    }\n\n    // Attribute mit @Input() sind undefined im Konstruktor.\n    // Methode zum \"LifeCycle Hook\" OnInit: wird direkt nach dem Konstruktor\n    // aufgerufen.\n    // Weitere Methoden zum Lifecycle: ngAfterViewInit(), ngAfterContentInit()\n    // https://angular.io/docs/ts/latest/guide/cheatsheet.html\n    // Die Ableitung vom Interface OnInit ist nicht notwendig, aber erleichtert\n    // IntelliSense bei der Verwendung von TypeScript.\n    ngOnInit() {\n        log.debug('GefundeneKundenComponent.ngOnInit()');\n        this.isAdmin = this.authService.isAdmin;\n\n        this.authService.rollen$\n            .pipe(\n                first(),\n                tap((rollen: string[]) =>\n                    // ein neues Observable vom Typ boolean\n                    this.isAdmin$.next(rollen.includes(ROLLE_ADMIN)),\n                ),\n            )\n            // das Subject von AuthService abonnieren bzw. beobachten\n            .subscribe();\n    }\n\n    /**\n     * Das ausgew&auml;hlte bzw. angeklickte Kunde in der Detailsseite anzeigen.\n     * @param kunde Das ausgew&auml;hlte Kunde\n     */\n    onClick(kunde: Kunde) {\n        log.debug('GefundeneBuecherComponent.onClick: kunde=', kunde);\n\n        // URL mit der Kunde-ID, um ein Bookmark zu ermoeglichen\n        // Gefundenes Kunde als NavigationExtras im Router puffern\n\n        return this.router.navigate([`/kunde/update/${kunde.id}`]);\n    }\n\n    /**\n     * Das ausgew&auml;hlte bzw. angeklickte Kunde l&ouml;schen.\n     * @param kunde Das ausgew&auml;hlte Kunde\n     */\n    onRemove(kunde: Kunde) {\n        log.debug('GefundeneBuecherComponent.onRemove: kunde=', kunde);\n\n        return this.writeService\n            .remove(kunde)\n            .pipe(\n                first(),\n                tap(result => {\n                    if (result instanceof RemoveError) {\n                        log.debug(\n                            'GefundeneBuecherComponent.onRemove: statuscode=',\n                            result.statuscode,\n                        );\n                        return;\n                    }\n\n                    this.kunden = this.kunden.filter(k => k.id !== kunde.id);\n                }),\n            )\n            .subscribe();\n    }\n\n    trackBy(_index: number, kunde: Kunde) {\n        return kunde.id;\n    }\n}\n\nexport class AnzahlLocalization extends NgLocalization {\n    getPluralCategory(count: number) {\n        return count === 1 ? 'single' : 'multi';\n    }\n}\n","<!--\n    Copyright (C) 2015 - present Juergen Zimmermann, Hochschule Karlsruhe\n\n    This program is free software: you can redistribute it and/or modify\n    it under the terms of the GNU General Public License as published by\n    the Free Software Foundation, either version 3 of the License, or\n    (at your option) any later version.\n\n    This program is distributed in the hope that it will be useful,\n    but WITHOUT ANY WARRANTY; without even the implied warranty of\n    MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE.  See the\n    GNU General Public License for more details.\n\n    You should have received a copy of the GNU General Public License\n    along with this program.  If not, see <http://www.gnu.org/licenses/>.\n-->\n\n<!-- Template Binding durch die Direktive ngIf -->\n<!-- Eine Direktive ist eine Komponente ohne View -->\n\n<div aria-label=\"Gefundene Kunden\" *ngIf=\"kunden.length\">\n  <mat-card>\n    <mat-card-title>Gefundene Kunden</mat-card-title>\n    <mat-card-content>\n      <table mat-table [dataSource]=\"kunden\" class=\"mat-elevation-z8\">\n        <ng-container matColumnDef=\"nachname\">\n          <th mat-header-cell *matHeaderCellDef>Nachname</th>\n          <td mat-cell *matCellDef=\"let element\">{{ element.nachname }}</td>\n        </ng-container>\n\n        <ng-container matColumnDef=\"familienstand\">\n          <th mat-header-cell *matHeaderCellDef>Familienstand</th>\n          <td mat-cell *matCellDef=\"let element\">\n            {{ element.familienstand }}\n          </td>\n        </ng-container>\n\n        <ng-container matColumnDef=\"geschlecht\">\n          <th mat-header-cell *matHeaderCellDef>Geschlecht</th>\n          <td mat-cell *matCellDef=\"let element\">{{ element.geschlecht }}</td>\n        </ng-container>\n\n        <ng-container matColumnDef=\"interessen\">\n          <th mat-header-cell *matHeaderCellDef>Interessen</th>\n          <td mat-cell *matCellDef=\"let element\">{{ element.interessen }}</td>\n        </ng-container>\n\n        <ng-container matColumnDef=\"update\">\n          <th mat-header-cell *matHeaderCellDef aria-label=\"update\">&nbsp;</th>\n          <td mat-cell *matCellDef=\"let element\">\n            <button mat-icon-button (click)=\"onClick(element)\">\n              <mat-icon>create</mat-icon>\n            </button>\n          </td>\n        </ng-container>\n\n        <tr mat-header-row *matHeaderRowDef=\"displayedColumns\"></tr>\n        <tr mat-row *matRowDef=\"let row; columns: displayedColumns\"></tr>\n      </table>\n    </mat-card-content>\n  </mat-card>\n</div>\n"]},"metadata":{},"sourceType":"module","externalDependencies":[]}