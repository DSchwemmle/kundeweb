{"ast":null,"code":"import { Temporal } from '@js-temporal/polyfill';\nimport log from 'loglevel';\n/**\r\n * Ein Kunde-Objekt mit JSON-Daten erzeugen, die von einem Formular kommen.\r\n * @param kunde JSON-Objekt mit Daten vom Formular\r\n * @return Das initialisierte Kunde-Objekt\r\n */\nexport const toKunde = kundeForm => {\n  log.debug('toKunde: kundeForm=', kundeForm);\n  const {\n    nachname,\n    email,\n    kategorie,\n    newsletter,\n    geschlecht,\n    geburtsdatum,\n    homepage,\n    familienstand,\n    plz,\n    ort,\n    betrag,\n    waehrung,\n    sport,\n    reisen,\n    lesen\n  } = kundeForm;\n  const adresse = {\n    plz,\n    ort\n  };\n  const umsatz = {\n    betrag,\n    waehrung\n  };\n  const interessen = [];\n  if (sport) {\n    interessen.push('S');\n  }\n  if (lesen) {\n    interessen.push('L');\n  }\n  if (reisen) {\n    interessen.push('R');\n  }\n  const datumTemporal = new Temporal.PlainDate(geburtsdatum.getFullYear(), geburtsdatum.getMonth() + 1, geburtsdatum.getDate());\n  // TODO Somehow the datumTemporal gets overwritten with the current date before being passed on as kunde.\n  log.debug('toKunde: datumTemporal=', datumTemporal);\n  const kunde = {\n    nachname,\n    email,\n    kategorie,\n    newsletter,\n    geschlecht,\n    geburtsdatum: datumTemporal,\n    adresse,\n    homepage,\n    familienstand,\n    umsatz,\n    interessen,\n    version: 0\n  };\n  log.debug('toKunde: kunde=', kunde);\n  return kunde;\n};","map":{"version":3,"mappings":"AA0BA,SAASA,QAAQ,QAAQ,uBAAuB;AAChD,OAAOC,GAAG,MAAM,UAAU;AA0B1B;;;;;AAKA,OAAO,MAAMC,OAAO,GAAIC,SAAoB,IAAI;EAC5CF,GAAG,CAACG,KAAK,CAAC,qBAAqB,EAAED,SAAS,CAAC;EAE3C,MAAM;IACFE,QAAQ;IACRC,KAAK;IACLC,SAAS;IACTC,UAAU;IACVC,UAAU;IACVC,YAAY;IACZC,QAAQ;IACRC,aAAa;IACbC,GAAG;IACHC,GAAG;IACHC,MAAM;IACNC,QAAQ;IACRC,KAAK;IACLC,MAAM;IACNC;EAAK,CACR,GAAGhB,SAAS;EAEb,MAAMiB,OAAO,GAAY;IACrBP,GAAG;IACHC;GACH;EAED,MAAMO,MAAM,GAAW;IACnBN,MAAM;IACNC;GACH;EAED,MAAMM,UAAU,GAAa,EAAE;EAC/B,IAAIL,KAAK,EAAE;IACPK,UAAU,CAACC,IAAI,CAAC,GAAG,CAAC;;EAExB,IAAIJ,KAAK,EAAE;IACPG,UAAU,CAACC,IAAI,CAAC,GAAG,CAAC;;EAExB,IAAIL,MAAM,EAAE;IACRI,UAAU,CAACC,IAAI,CAAC,GAAG,CAAC;;EAGxB,MAAMC,aAAa,GAAG,IAAIxB,QAAQ,CAACyB,SAAS,CACxCf,YAAY,CAACgB,WAAW,EAAE,EAC1BhB,YAAY,CAACiB,QAAQ,EAAE,GAAG,CAAC,EAC3BjB,YAAY,CAACkB,OAAO,EAAE,CACzB;EACD;EACA3B,GAAG,CAACG,KAAK,CAAC,yBAAyB,EAAEoB,aAAa,CAAC;EAEnD,MAAMK,KAAK,GAAU;IACjBxB,QAAQ;IACRC,KAAK;IACLC,SAAS;IACTC,UAAU;IACVC,UAAU;IACVC,YAAY,EAAEc,aAAa;IAC3BJ,OAAO;IACPT,QAAQ;IACRC,aAAa;IACbS,MAAM;IACNC,UAAU;IACVQ,OAAO,EAAE;GACZ;EACD7B,GAAG,CAACG,KAAK,CAAC,iBAAiB,EAAEyB,KAAK,CAAC;EACnC,OAAOA,KAAK;AAChB,CAAC","names":["Temporal","log","toKunde","kundeForm","debug","nachname","email","kategorie","newsletter","geschlecht","geburtsdatum","homepage","familienstand","plz","ort","betrag","waehrung","sport","reisen","lesen","adresse","umsatz","interessen","push","datumTemporal","PlainDate","getFullYear","getMonth","getDate","kunde","version"],"sourceRoot":"","sources":["C:\\Users\\Dominik\\software-engineering\\kundeweb\\src\\app\\kunde\\create-kunde\\kundeForm.ts"],"sourcesContent":["// eslint-disable-next-line eslint-comments/disable-enable-pair\n/* eslint-disable max-lines-per-function */\n/*\n * Copyright (C) 2015 - present Juergen Zimmermann, Hochschule Karlsruhe\n *\n * This program is free software: you can redistribute it and/or modify\n * it under the terms of the GNU General Public License as published by\n * the Free Software Foundation, either version 3 of the License, or\n * (at your option) any later version.\n *\n * This program is distributed in the hope that it will be useful,\n * but WITHOUT ANY WARRANTY; without even the implied warranty of\n * MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE.  See the\n * GNU General Public License for more details.\n *\n * You should have received a copy of the GNU General Public License\n * along with this program.  If not, see <http://www.gnu.org/licenses/>.\n */\nimport {\n    type Adresse,\n    type Familienstand,\n    type GeschlechtType,\n    type Kunde,\n    type KundeShared,\n    type Umsatz,\n} from '../shared';\nimport { Temporal } from '@js-temporal/polyfill';\nimport log from 'loglevel';\n\n/**\n * Daten aus einem Formular:\n * <ul>\n *  <li> je 1 Control fuer jede Checkbox und\n *  <li> au&szlig;erdem Strings f&uuml;r Eingabefelder f&uuml;r Zahlen.\n * </ul>\n */\nexport interface KundeForm extends KundeShared {\n    adresse: Adresse;\n    geschlecht: GeschlechtType;\n    geburtsdatum: Date;\n    homepage: string;\n    familienstand: Familienstand;\n    // interessen: Set<InteresseType>;\n    plz: string;\n    ort: string;\n    betrag: bigint;\n    // Technically not string, change later.\n    waehrung: string;\n    sport: boolean;\n    reisen: boolean;\n    lesen: boolean;\n}\n\n/**\n * Ein Kunde-Objekt mit JSON-Daten erzeugen, die von einem Formular kommen.\n * @param kunde JSON-Objekt mit Daten vom Formular\n * @return Das initialisierte Kunde-Objekt\n */\nexport const toKunde = (kundeForm: KundeForm) => {\n    log.debug('toKunde: kundeForm=', kundeForm);\n\n    const {\n        nachname,\n        email,\n        kategorie,\n        newsletter,\n        geschlecht,\n        geburtsdatum,\n        homepage,\n        familienstand,\n        plz,\n        ort,\n        betrag,\n        waehrung,\n        sport,\n        reisen,\n        lesen,\n    } = kundeForm;\n\n    const adresse: Adresse = {\n        plz,\n        ort,\n    };\n\n    const umsatz: Umsatz = {\n        betrag,\n        waehrung,\n    };\n\n    const interessen: string[] = [];\n    if (sport) {\n        interessen.push('S');\n    }\n    if (lesen) {\n        interessen.push('L');\n    }\n    if (reisen) {\n        interessen.push('R');\n    }\n\n    const datumTemporal = new Temporal.PlainDate(\n        geburtsdatum.getFullYear(),\n        geburtsdatum.getMonth() + 1,\n        geburtsdatum.getDate(),\n    );\n    // TODO Somehow the datumTemporal gets overwritten with the current date before being passed on as kunde.\n    log.debug('toKunde: datumTemporal=', datumTemporal);\n\n    const kunde: Kunde = {\n        nachname,\n        email,\n        kategorie,\n        newsletter,\n        geschlecht,\n        geburtsdatum: datumTemporal,\n        adresse,\n        homepage,\n        familienstand,\n        umsatz,\n        interessen,\n        version: 0,\n    };\n    log.debug('toKunde: kunde=', kunde);\n    return kunde;\n};\n"]},"metadata":{},"sourceType":"module","externalDependencies":[]}